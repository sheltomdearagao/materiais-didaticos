<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula de Reda√ß√£o: Argumento de Autoridade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for drag and drop feedback */
        .phrase-item {
            cursor: grab;
        }
        .phrase-item:active {
            cursor: grabbing;
        }
        .drag-feedback.correct {
            background-color: #d1fae5; /* green-100 */
            border-color: #34d399; /* green-300 */
            color: #065f46; /* green-800 */
        }
        .drag-feedback.incorrect {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444; /* red-400 */
            color: #991b1b; /* red-800 */
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 p-4 font-sans flex flex-col items-center">

    <button id="prevBtn" class="absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 z-10 p-2 sm:p-3 bg-gray-300 text-gray-800 rounded-full shadow-md hover:bg-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500" aria-label="Anterior">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
        </svg>
    </button>

    <div id="mainCard" class="w-full max-w-4xl bg-white rounded-2xl shadow-xl p-4 sm:p-8 flex flex-col flex-grow max-h-[90vh] overflow-hidden">
        <h1 id="lessonTitle" class="text-2xl sm:text-4xl font-extrabold text-center text-blue-800 mb-4 sm:mb-6 leading-tight">
            Aula de Reda√ß√£o: Argumento de Autoridade
        </h1>
        <h2 id="stepTitle" class="text-xl sm:text-2xl font-bold text-center text-purple-700 mb-6 sm:mb-8"></h2>

        <div id="lessonContentContainer" class="flex-grow overflow-y-auto pb-4">
            <div id="lessonContent" class="lesson-content">
                </div>
        </div>
    </div>

    <button id="nextBtn" class="absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 z-10 p-2 sm:p-3 bg-gray-300 text-gray-800 rounded-full shadow-md hover:bg-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500" aria-label="Pr√≥ximo">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
    </button>

    <footer class="mt-auto py-4 text-center text-gray-600 text-sm w-full">
        Desenvolvido pelo Prof. Sheltom de Arag√£o
    </footer>

    <script>
        // Data for the lesson steps
        const stepsData = [
            {
                title: "Bem-vindos √† Aula de Reda√ß√£o!",
                content: `
                    <div class="text-gray-700 flex flex-col items-center p-4 sm:p-6">
                        <div class="text-6xl text-blue-600 mb-4">
                            ‚úçÔ∏è
                        </div>
                        <p class="mb-4 text-center text-base sm:text-lg">Ol√°, pessoal! Sejam bem-vindos √† nossa aula de reda√ß√£o.</p>
                        <p class="mb-4 text-center text-base sm:text-lg">Hoje, vamos aprender uma t√©cnica superpoderosa para deixar seus textos ainda mais fortes e convincentes: o <strong>argumento de autoridade</strong>!</p>
                        <p class="text-center text-base sm:text-lg">√â quando a gente usa a fala de algu√©m que √© especialista no assunto para dar for√ßa √† nossa opini√£o. As <strong>entrevistas</strong> s√£o perfeitas para isso, pois trazem opini√µes <strong>diferentes</strong> sobre o mesmo tema!</p>
                    </div>
                `
            },
            {
                title: "Tema: Intelig√™ncia Artificial (IA)",
                content: `
                    <div class="text-gray-700 p-4 sm:p-6">
                        <p class="mb-6 text-center text-base sm:text-lg">Vamos usar a <strong>Intelig√™ncia Artificial (IA)</strong> como nosso tema. Ser√° que a IA √© s√≥ boa ou tem um lado que precisamos ficar de olho?</p>

                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1 bg-red-50 p-4 rounded-lg border border-red-200 shadow-md flex flex-col items-center text-center">
                                <div class="text-4xl text-red-600 mb-2">
                                    ‚ö†Ô∏è
                                </div>
                                <h3 class="text-xl font-semibold mb-2 text-red-700">Professor Luciano Floridi</h3>
                                <p class="font-bold text-red-800 mb-2 text-base sm:text-lg">Vis√£o Cautelosa</p>
                                <ul class="list-none p-0 m-0 text-sm sm:text-base">
                                    <li class="mb-1">"A gente est√° abordando a IA de forma muito superficial."</li>
                                    <li>"Nos programas de IA atuais... falta um 'racioc√≠nio de verdade'."</li>
                                </ul>
                                <p class="text-xs italic mt-2 sm:text-sm">Ele nos convida a pensar mais a fundo, sem se deixar enganar pela superf√≠cie.</p>
                            </div>

                            <div class="flex-1 bg-green-50 p-4 rounded-lg border border-green-200 shadow-md flex flex-col items-center text-center">
                                <div class="text-4xl text-green-600 mb-2">
                                    ‚ú®
                                </div>
                                <h3 class="text-xl font-semibold mb-2 text-green-700">Economista-Chefe do Google</h3>
                                <p class="font-bold text-green-800 mb-2 text-base sm:text-lg">Vis√£o Otimista</p>
                                <ul class="list-none p-0 m-0 text-sm sm:text-base">
                                    <li class="mb-1">"A IA √© 'a mudan√ßa tecnol√≥gica mais emocionante'."</li>
                                    <li class="mb-1">"A IA aumenta a efici√™ncia... em 21% [e] 40%."</li>
                                    <li>"Pode criar mais oportunidades de trabalho."</li>
                                </ul>
                                <p class="text-xs italic mt-2 sm:text-sm">Ele v√™ a IA como uma for√ßa transformadora e cheia de novas possibilidades.</p>
                            </div>
                        </div>
                    </div>
                `
            },
            {
                title: "Estrutura do Par√°grafo de Desenvolvimento",
                content: `
                    <div class="text-gray-700 flex flex-col items-center p-4 sm:p-6">
                        <p class="mb-6 text-center text-base sm:text-lg">Para usar a fala de um especialista, seu par√°grafo precisa de uma estrutura clara. Vejam o esquema:</p>

                        <div class="flex flex-col items-center space-y-4 w-full max-w-md">
                            <div class="bg-blue-100 p-4 rounded-lg shadow-md w-full text-center border-2 border-blue-300">
                                <p class="font-bold text-blue-800 text-base sm:text-lg">1. T√≥pico Frasal</p>
                                <p class="text-sm sm:text-base">A ideia principal do seu par√°grafo.</p>
                            </div>
                            <div class="text-4xl text-gray-400">üëá</div>
                            <div class="bg-purple-100 p-4 rounded-lg shadow-md w-full text-center border-2 border-purple-300">
                                <p class="font-bold text-purple-800 text-base sm:text-lg">2. Argumento de Autoridade (Cita√ß√£o)</p>
                                <p class="text-sm sm:text-base">O trecho da entrevista (entre aspas) e quem falou.</p>
                            </div>
                            <div class="text-4xl text-gray-400">üëá</div>
                            <div class="bg-green-100 p-4 rounded-lg shadow-md w-full text-center border-2 border-green-300">
                                <p class="font-bold text-green-800 text-base sm:text-lg">3. An√°lise / Explica√ß√£o</p>
                                <p class="text-sm sm:text-base">O que a cita√ß√£o significa e como ela prova sua ideia.</p>
                            </div>
                            <div class="text-4xl text-gray-400">üëá</div>
                            <div class="bg-yellow-100 p-4 rounded-lg shadow-md w-full text-center border-2 border-yellow-300">
                                <p class="font-bold text-yellow-800 text-base sm:text-lg">4. Fechamento</p>
                                <p class="text-sm sm:text-base">Uma frase que encerra o par√°grafo.</p>
                            </div>
                        </div>

                        <p class="mt-8 mb-4 text-center text-base sm:text-lg">Agora, vejam os exemplos completos de par√°grafos:</p>

                        <h3 class="text-xl font-semibold mb-2 text-blue-700">Exemplo 1: Vis√£o Cautelosa da IA (usando Floridi)</h3>
                        <div class="bg-gray-100 p-4 rounded-lg border border-gray-200 mb-4 w-full">
                            <p class="font-bold mb-2 text-base sm:text-lg">Par√°grafo de Desenvolvimento</p>
                            <p class="text-sm sm:text-base">√â fundamental que a sociedade aprofunde a discuss√£o sobre os impactos da Intelig√™ncia Artificial, evitando uma vis√£o simplista que ignora suas complexidades. Nesse sentido, o professor Luciano Floridi, especialista em √©tica digital, alerta que <strong>"a gente est√° abordando a IA de forma muito superficial, e as pessoas n√£o est√£o aprofundando o suficiente"</strong>. Essa perspectiva ressalta a import√¢ncia de ir al√©m do uso pr√°tico da tecnologia, buscando compreender as implica√ß√µes √©ticas e sociais que envolvem a IA, como a real capacidade de racioc√≠nio das m√°quinas, que, segundo o pr√≥prio Floridi, ainda apresenta <strong>"aus√™ncia de racioc√≠nio real"</strong>. Dessa forma, uma an√°lise mais cuidadosa e menos apressada torna-se essencial para um desenvolvimento tecnol√≥gico mais respons√°vel.</p>
                        </div>
                        <h3 class="text-xl font-semibold mb-2 text-blue-700">Exemplo 2: Vis√£o Otimista da IA (usando o economista do Google)</h3>
                        <div class="bg-gray-100 p-4 rounded-lg border border-gray-200 w-full">
                            <p class="font-bold mb-2 text-base sm:text-lg">Par√°grafo de Desenvolvimento</p>
                            <p class="text-sm sm:text-base">A Intelig√™ncia Artificial representa uma revolu√ß√£o tecnol√≥gica com o potencial de impulsionar significativamente diversos setores da economia e da sociedade. Conforme apontado pelo economista-chefe do Google, a IA √© <strong>"a mudan√ßa tecnol√≥gica mais emocionante"</strong> de sua vida, com impactos claros na efici√™ncia, visto que <strong>"aumenta a efici√™ncia dos desenvolvedores de software em 21%"</strong>. Tal dado demonstra o poder transformador da IA, que n√£o apenas otimiza processos j√° existentes, mas tamb√©m abre caminhos para o desenvolvimento de novas solu√ß√µes, como a melhoria do acesso √† educa√ß√£o e a resolu√ß√£o de problemas complexos, conforme o especialista. Portanto, a ado√ß√£o e o investimento em IA configuram-se como estrat√©gias promissoras para o avan√ßo socioecon√¥mico global.</p>
                        </div>
                    </div>
                `
            },
            {
                title: "Exerc√≠cio de Reconhecimento",
                content: `
                    <div class="text-gray-700 p-4 sm:p-6">
                        <p class="mb-4 text-center font-bold text-base sm:text-lg">Vamos ver se voc√™s entenderam direitinho! Respondam √†s perguntas:</p>

                        <div class="bg-blue-50 p-4 rounded-lg mb-6 shadow-sm">
                            <p class="font-semibold mb-2 text-base sm:text-lg">1. Qual √© o objetivo principal de um argumento de autoridade em uma reda√ß√£o?</p>
                            <div class="flex flex-col space-y-2">
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q1" value="a" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">A) Deixar o texto mais longo.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q1" value="b" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">B) Provar um ponto com a fala de um especialista.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q1" value="c" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">C) Fazer o leitor rir.</span>
                                </label>
                            </div>
                            <button onclick="checkRecognitionAnswer('q1')" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                            <p id="feedback_q1" class="mt-2 text-sm italic"></p>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg mb-6 shadow-sm">
                            <p class="font-semibold mb-2 text-base sm:text-lg">2. O Professor Luciano Floridi tem uma vis√£o mais otimista ou mais cautelosa sobre a IA?</p>
                            <div class="flex flex-col space-y-2">
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q2" value="a" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">A) Otimista.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q2" value="b" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">B) Cautelosa.</span>
                                </label>
                            </div>
                            <button onclick="checkRecognitionAnswer('q2')" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                            <p id="feedback_q2" class="mt-2 text-sm italic"></p>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg mb-6 shadow-sm">
                            <p class="font-semibold mb-2 text-base sm:text-lg">3. Qual parte do par√°grafo de desenvolvimento apresenta a ideia principal?</p>
                            <div class="flex flex-col space-y-2">
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q3" value="a" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">A) O fechamento.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q3" value="b" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">B) O argumento de autoridade.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q3" value="c" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">C) O t√≥pico frasal.</span>
                                </label>
                            </div>
                            <button onclick="checkRecognitionAnswer('q3')" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                            <p id="feedback_q3" class="mt-2 text-sm italic"></p>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg mb-6 shadow-sm">
                            <p class="font-semibold mb-2 text-base sm:text-lg">4. Verdadeiro ou Falso: Apenas citar um especialista √© suficiente para um bom argumento de autoridade, sem precisar explicar a cita√ß√£o.</p>
                            <div class="flex flex-col space-y-2">
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q4" value="true" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">Verdadeiro</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q4" value="false" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">Falso</span>
                                </label>
                            </div>
                            <button onclick="checkRecognitionAnswer('q4')" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                            <p id="feedback_q4" class="mt-2 text-sm italic"></p>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg mb-6 shadow-sm">
                            <p class="font-semibold mb-2 text-base sm:text-lg">5. Qual das op√ß√µes abaixo melhor descreve a fun√ß√£o da "An√°lise/Explica√ß√£o" em um par√°grafo de desenvolvimento?</p>
                            <div class="flex flex-col space-y-2">
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q5" value="a" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">A) Apresentar um novo argumento n√£o relacionado √† cita√ß√£o.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q5" value="b" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">B) Explicar o significado da cita√ß√£o e como ela se relaciona com a ideia principal do par√°grafo.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q5" value="c" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">C) Resumir todo o texto da reda√ß√£o.</span>
                                </label>
                            </div>
                            <button onclick="checkRecognitionAnswer('q5')" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                            <p id="feedback_q5" class="mt-2 text-sm italic"></p>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg mb-6 shadow-sm">
                            <p class="font-semibold mb-2 text-base sm:text-lg">6. Se voc√™ fosse escrever um par√°grafo defendendo que a IA pode trazer muitos benef√≠cios para a sociedade, qual dos especialistas seria mais adequado para citar?</p>
                            <div class="flex flex-col space-y-2">
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q6" value="a" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">A) O Professor Luciano Floridi.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q6" value="b" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">B) O Economista-Chefe do Google.</span>
                                </label>
                                <label class="inline-flex items-center text-sm sm:text-base">
                                    <input type="radio" name="q6" value="c" class="form-radio text-blue-600 w-4 h-4 sm:w-5 sm:h-5" />
                                    <span class="ml-2">C) Ambos, pois eles t√™m a mesma opini√£o.</span>
                                </label>
                            </div>
                            <button onclick="checkRecognitionAnswer('q6')" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                            <p id="feedback_q6" class="mt-2 text-sm italic"></p>
                        </div>
                    </div>
                `
            },
            {
                title: "Exerc√≠cio de Arrastar e Soltar: Construindo Par√°grafos!",
                content: `
                    <div class="text-gray-700 p-4 sm:p-6">
                        <p class="mb-4 text-center text-base sm:text-lg">Chegou a hora de voc√™s mostrarem o que aprenderam! Abaixo, voc√™s encontrar√£o frases embaralhadas de par√°grafos de desenvolvimento. Sua tarefa √© <strong>arrastar e soltar</strong> as frases na ordem correta para montar o par√°grafo. Lembrem-se da estrutura: T√≥pico Frasal, Argumento de Autoridade, An√°lise/Explica√ß√£o e Fechamento.</p>
                        <p class="mb-6 font-bold text-red-600 text-center text-base sm:text-lg">Dica: Arrastem as frases da esquerda para a √°rea de "Par√°grafo Montado" na ordem que acharem correta!</p>

                        <div id="dragDropContainer" class="flex flex-col gap-8">
                            </div>
                    </div>
                `
            }
            // Removed Gemini Tools for simplicity in vanilla JS for this user's context
        ];

        let currentStep = 0; // Global state for current step

        // DOM elements
        const stepTitleElement = document.getElementById('stepTitle');
        const lessonContentElement = document.getElementById('lessonContent');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        // Recognition Quiz Answers (Correct answers)
        const recognitionAnswers = {
            q1: 'b', // Provar um ponto com a fala de um especialista.
            q2: 'b', // Cautelosa.
            q3: 'c', // O t√≥pico frasal.
            q4: 'false', // Falso (precisa explicar).
            q5: 'b', // Explicar o significado da cita√ß√£o...
            q6: 'b'  // O Economista-Chefe do Google.
        };

        // Drag and Drop Data
        const paragraphData = [
            {
                id: 'p1',
                title: 'Par√°grafo 1: Vis√£o Cautelosa da IA',
                correctOrder: [
                    "√â fundamental que a sociedade aprofunde a discuss√£o sobre os impactos da Intelig√™ncia Artificial, evitando uma vis√£o simplista que ignora suas complexidades.",
                    "Nesse sentido, o professor Luciano Floridi, especialista em √©tica digital, alerta que \"a gente est√° abordando a IA de forma muito superficial, e as pessoas n√£o est√£o aprofundando o suficiente\".",
                    "Essa perspectiva ressalta a import√¢ncia de ir al√©m do uso pr√°tico da tecnologia, buscando compreender as implica√ß√µes √©ticas e sociais que envolvem a IA, como a real capacidade de racioc√≠nio das m√°quinas, que, segundo o pr√≥prio Floridi, ainda apresenta \"aus√™ncia de racioc√≠nio real\".",
                    "Dessa forma, uma an√°lise mais cuidadosa e menos apressada torna-se essencial para um desenvolvimento tecnol√≥gico mais respons√°vel."
                ]
            },
            {
                id: 'p2',
                title: 'Par√°grafo 2: Vis√£o Otimista da IA',
                correctOrder: [
                    "A Intelig√™ncia Artificial representa uma revolu√ß√£o tecnol√≥gica com o potencial de impulsionar significativamente diversos setores da economia e da sociedade.",
                    "Conforme apontado pelo economista-chefe do Google, a IA √© \"a mudan√ßa tecnol√≥gica mais emocionante\" de sua vida, com impactos claros na efici√™ncia, visto que \"aumenta a efici√™ncia dos desenvolvedores de software em 21%\".",
                    "Tal dado demonstra o poder transformador da IA, que n√£o apenas otimiza processos j√° existentes, mas tamb√©m abre caminhos para o desenvolvimento de novas solu√ß√µes, como a melhoria do acesso √† educa√ß√£o e a resolu√ß√£o de problemas complexos, conforme o especialista.",
                    "Portanto, a ado√ß√£o e o investimento em IA configuram-se como estrat√©gias promissoras para o avan√ßo socioecon√¥mico global."
                ]
            },
            {
                id: 'p3',
                title: 'Par√°grafo 3: A IA e o Futuro do Trabalho',
                correctOrder: [
                    "O impacto da Intelig√™ncia Artificial no mercado de trabalho √© um tema de constante debate, gerando tanto preocupa√ß√£o quanto otimismo sobre o futuro das profiss√µes.",
                    "De um lado, especialistas como o economista-chefe do Google defendem que a IA \"pode criar mais oportunidades de trabalho do que tirar, se as regras certas forem criadas\", sugerindo um cen√°rio de adapta√ß√£o e novas fun√ß√µes.",
                    "Contudo, a transi√ß√£o para esse novo panorama exige investimento em qualifica√ß√£o e pol√≠ticas p√∫blicas que garantam a inclus√£o, evitando que a automa√ß√£o aprofunde desigualdades sociais.",
                    "Assim, √© crucial que a sociedade se prepare para as transforma√ß√µes, buscando um equil√≠brio entre a inova√ß√£o tecnol√≥gica e a prote√ß√£o dos trabalhadores."
                ]
            },
            {
                id: 'p4',
                title: 'Par√°grafo 4: Desafios √âticos da IA',
                correctOrder: [
                    "A r√°pida evolu√ß√£o da Intelig√™ncia Artificial levanta importantes quest√µes √©ticas que precisam ser consideradas para garantir um desenvolvimento respons√°vel.",
                    "Conforme diversos especialistas em √©tica digital, um dos principais desafios √© o risco de vi√©s nos algoritmos, que podem reproduzir e at√© amplificar preconceitos existentes nos dados de treinamento.",
                    "Essa preocupa√ß√£o exige uma fiscaliza√ß√£o constante e a cria√ß√£o de diretrizes claras para evitar decis√µes injustas ou discriminat√≥rias por sistemas de IA.",
                    "Portanto, a √©tica deve ser um pilar fundamental na concep√ß√£o e implementa√ß√£o de qualquer tecnologia inteligente."
                ]
            },
            {
                id: 'p5',
                title: 'Par√°grafo 5: A Import√¢ncia da Educa√ß√£o na Era da IA',
                correctOrder: [
                    "Diante das transforma√ß√µes trazidas pela Intelig√™ncia Artificial, a educa√ß√£o assume um papel central na prepara√ß√£o dos jovens para o futuro.",
                    "Como defende o economista-chefe do Google, a IA pode \"ajudar os professores e dar mais acesso a materiais de qualidade\", indicando um potencial de aprimoramento do ensino.",
                    "Contudo, √© essencial que as escolas desenvolvam habilidades como o pensamento cr√≠tico e a criatividade, que s√£o complementares √†s capacidades da IA e valorizadas no mercado de trabalho.",
                    "Assim, investir em uma educa√ß√£o que prepare os alunos para interagir com a IA de forma consciente √© crucial para o seu sucesso."
                ]
            }
        ];

        let shuffledParagraphs = []; // To store shuffled phrases for each paragraph
        let droppedPhrases = {}; // To store dropped phrases for each paragraph

        // Function to shuffle an array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // ES6 swap
            }
            return array;
        }

        // Initialize drag and drop data
        function initializeDragDrop() {
            shuffledParagraphs = paragraphData.map(p => ({
                id: p.id,
                shuffled: shuffleArray([...p.correctOrder])
            }));
            droppedPhrases = {};
            paragraphData.forEach(p => droppedPhrases[p.id] = []);
        }

        // --- Core UI Update Function ---
        function updateUI() {
            stepTitleElement.innerHTML = stepsData[currentStep].title;
            lessonContentElement.innerHTML = stepsData[currentStep].content;

            // Update button visibility
            prevBtn.style.display = currentStep === 0 ? 'none' : 'block';
            nextBtn.style.display = currentStep === stepsData.length - 1 ? 'none' : 'block';

            // Specific logic for recognition exercise
            if (stepsData[currentStep].title.includes("Reconhecimento")) {
                // Attach event listeners for recognition quizzes
                document.querySelectorAll('.bg-blue-50 button').forEach(button => {
                    button.onclick = (event) => {
                        const questionId = event.target.closest('.bg-blue-50').querySelector('p').classList[0].split('_')[1]; // Extracts q1, q2, etc.
                        checkRecognitionAnswer(questionId);
                    };
                });
            }

            // Specific logic for drag and drop exercise
            if (stepsData[currentStep].title.includes("Arrastar e Soltar")) {
                renderDragDropExercise();
            }
            
            // Scroll to top of content area on step change
            document.getElementById('lessonContentContainer').scrollTop = 0;
        }

        // --- Recognition Exercise Logic ---
        window.checkRecognitionAnswer = function(questionId) {
            const selectedOption = document.querySelector(`input[name="${questionId}"]:checked`);
            const feedbackElement = document.getElementById(`feedback_${questionId}`);
            if (!selectedOption) {
                feedbackElement.textContent = 'Por favor, selecione uma op√ß√£o.';
                feedbackElement.className = 'mt-2 text-sm italic text-red-600';
                return;
            }

            const isCorrect = selectedOption.value === recognitionAnswers[questionId];
            if (isCorrect) {
                feedbackElement.textContent = 'Correto! Muito bem!';
                feedbackElement.className = 'mt-2 text-sm italic text-green-700';
            } else {
                let correctText = '';
                if (questionId === 'q1') correctText = 'O objetivo √© dar for√ßa ao seu argumento.';
                if (questionId === 'q2') correctText = 'Ele nos convida a pensar mais profundamente.';
                if (questionId === 'q3') correctText = 'O t√≥pico frasal √© a primeira frase e apresenta a ideia principal.';
                if (questionId === 'q4') correctText = '√â fundamental explicar a cita√ß√£o para conect√°-la ao seu argumento.';
                if (questionId === 'q5') correctText = 'A an√°lise √© a sua "conversa" com a cita√ß√£o.';
                if (questionId === 'q6') correctText = 'O Economista-Chefe do Google tem uma vis√£o mais otimista, ideal para defender os benef√≠cios.';
                
                feedbackElement.textContent = `Ops! Tente novamente. ${correctText}`;
                feedbackElement.className = 'mt-2 text-sm italic text-red-600';
            }
        };

        // --- Drag and Drop Exercise Logic ---
        function renderDragDropExercise() {
            const container = document.getElementById('dragDropContainer');
            if (!container) return; // Exit if not on drag drop step

            container.innerHTML = ''; // Clear previous content

            shuffledParagraphs.forEach((paraData, paraIndex) => {
                const paraElement = document.createElement('div');
                paraElement.className = 'bg-white p-6 rounded-lg shadow-md mb-8 border border-gray-200';
                paraElement.innerHTML = `
                    <h3 class="text-xl font-semibold mb-4 text-blue-700 text-center">${paraData.title}</h3>
                    <div class="flex flex-col md:flex-row gap-6">
                        <div id="shuffled-${paraData.id}" class="flex-1 bg-gray-50 p-4 rounded-md border border-gray-100 min-h-[150px] sm:min-h-[200px]">
                            <p class="font-semibold mb-2 text-gray-800 text-base sm:text-lg">Frases para Arrastar:</p>
                            ${paraData.shuffled.map((phrase, index) => `
                                <div id="phrase-${paraData.id}-${index}" draggable="true" data-phrase="${phrase}" class="phrase-item bg-purple-100 text-purple-800 p-3 mb-2 rounded-md shadow-sm hover:bg-purple-200 transition-colors text-sm sm:text-base">
                                    ${phrase}
                                </div>
                            `).join('')}
                        </div>

                        <div id="dropped-${paraData.id}" class="flex-1 bg-green-50 p-4 rounded-md border border-green-200 min-h-[150px] sm:min-h-[200px]">
                            <p class="font-semibold mb-2 text-gray-800 text-base sm:text-lg">Par√°grafo Montado:</p>
                            ${droppedPhrases[paraData.id].length === 0 ?
                                '<p class="text-gray-500 italic text-sm sm:text-base">Arraste as frases para c√°...</p>' :
                                droppedPhrases[paraData.id].map(phrase => `
                                    <div class="bg-green-100 text-green-800 p-3 mb-2 rounded-md shadow-sm text-sm sm:text-base">${phrase}</div>
                                `).join('')
                            }
                        </div>
                    </div>
                    <div class="flex justify-end gap-2 mt-4">
                        <button onclick="resetDragDrop('${paraData.id}')" class="px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors shadow-md text-sm sm:text-base">Reiniciar</button>
                        <button onclick="checkDragDrop('${paraData.id}')" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base">Verificar</button>
                    </div>
                    <p id="dragFeedback-${paraData.id}" class="mt-2 text-center font-bold text-sm sm:text-base"></p>
                `;
                container.appendChild(paraElement);

                // Add event listeners for drag and drop
                const shuffledDiv = document.getElementById(`shuffled-${paraData.id}`);
                const droppedDiv = document.getElementById(`dropped-${paraData.id}`);

                shuffledDiv.querySelectorAll('.phrase-item').forEach(item => {
                    item.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', e.target.dataset.phrase);
                        e.dataTransfer.effectAllowed = 'move';
                    });
                });

                droppedDiv.addEventListener('dragover', (e) => e.preventDefault());
                droppedDiv.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const phraseText = e.dataTransfer.getData('text/plain');
                    
                    const currentPara = paragraphData.find(p => p.id === paraData.id);
                    const shuffledArray = shuffledParagraphs.find(p => p.id === paraData.id).shuffled;

                    // Add to dropped and remove from shuffled
                    if (!droppedPhrases[paraData.id].includes(phraseText) && shuffledArray.includes(phraseText)) {
                        droppedPhrases[paraData.id].push(phraseText);
                        shuffledParagraphs.find(p => p.id === paraData.id).shuffled = shuffledArray.filter(p => p !== phraseText);
                        renderDragDropExercise(); // Re-render to update UI
                    }
                });
            });
        }

        window.resetDragDrop = function(paraId) {
            const para = paragraphData.find(p => p.id === paraId);
            shuffledParagraphs.find(p => p.id === paraId).shuffled = shuffleArray([...para.correctOrder]);
            droppedPhrases[paraId] = [];
            document.getElementById(`dragFeedback-${paraId}`).textContent = '';
            renderDragDropExercise();
        }

        window.checkDragDrop = function(paraId) {
            const feedbackElement = document.getElementById(`dragFeedback-${paraId}`);
            const currentDropped = droppedPhrases[paraId];
            const correctOrder = paragraphData.find(p => p.id === paraId).correctOrder;

            // Simple string comparison for now, assuming order matters strictly
            const isCorrect = JSON.stringify(currentDropped) === JSON.stringify(correctOrder);

            if (isCorrect) {
                feedbackElement.textContent = 'üéâ Parab√©ns! Par√°grafo montado corretamente!';
                feedbackElement.className = 'mt-2 text-center font-bold text-sm sm:text-base text-green-700';
            } else {
                feedbackElement.textContent = 'ü§î Quase l√°! A ordem ainda n√£o est√° perfeita. Tente novamente!';
                feedbackElement.className = 'mt-2 text-center font-bold text-sm sm:text-base text-red-600';
            }
        }


        // --- Navigation Logic ---
        function navigate(direction) {
            if (direction === 'next' && currentStep < stepsData.length - 1) {
                currentStep++;
            } else if (direction === 'prev' && currentStep > 0) {
                currentStep--;
            }
            updateUI();
        }

        // Attach event listeners to navigation buttons
        prevBtn.addEventListener('click', () => navigate('prev'));
        nextBtn.addEventListener('click', () => navigate('next'));

        // Initial render
        initializeDragDrop();
        updateUI();

    </script>
</body>
</html>
